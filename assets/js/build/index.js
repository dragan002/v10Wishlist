(()=>{"use strict";const e=window.React,t=window.wp.element,n=()=>{const[n,a]=(0,t.useState)(0);(0,t.useEffect)((()=>(r(),document.addEventListener("wpls_wishlist_updated",r),()=>document.removeEventListener("wpls_wishlist_updated",r))),[]);const r=async()=>{try{if("undefined"==typeof wpls_data||void 0===wpls_data.ajax_url)return void console.error("wpls_data or wpls_data.ajax_url is not defined.");const e=await fetch(wpls_data.ajax_url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"wpls_get_wishlist_count",nonce:wpls_data.nonce})});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const t=await e.json();t.success?a(t.data.count):console.error("Failed to fetch wishlist count:",t.data?t.data.message:"Unknown error")}catch(e){console.error("Error fetching wishlist count:",e)}};return 0===n&&"yes"!==wpls_data.show_zero_count?null:(0,e.createElement)("a",{href:wpls_data.wishlist_url||"#",className:"wpls-wishlist-counter"},(0,e.createElement)("span",{className:"wishlist-icon"},"â™¥")," ",(0,e.createElement)("span",{className:"count"},n))};document.addEventListener("DOMContentLoaded",(()=>{const a=[".site-header-cart",".header-cart-wrapper",".site-header .secondary-navigation ul","#site-header-menu #primary-menu-list","#site-navigation .menu-main-menu-container > ul","#primary-navigation > div > ul",'header[role="banner"] .nav-wrapper > ul',"header .main-navigation ul"];let r=null;for(const e of a)if(r=document.querySelector(e),r)break;if(r||(r=document.querySelector(".site-header")||document.querySelector('header[role="banner"]')),!r)return void console.warn("Wishlist Counter: Could not find a suitable mount point in the header or navigation. The counter might not be visible.");const s=document.createElement("div");if(s.className="wpls-wishlist-counter-container","UL"===r.tagName){const e=document.createElement("li");e.className="menu-item wpls-wishlist-counter-menu-item",e.appendChild(s),r.appendChild(e)}else r.appendChild(s);(0,t.render)((0,e.createElement)(n,null),s)}))})();